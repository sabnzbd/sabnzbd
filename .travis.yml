matrix:
  include:
  - os: linux
    language: python
  - os: osx
    env: HOMEBREW_NO_AUTO_UPDATE=1
    addons:
      chrome: stable

before_script:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then
      brew cask install chromedriver;
    else
      sudo add-apt-repository ppa:jcfp -y;
      sudo apt-get update -q;
      sudo apt-get install sabnzbdplus chromium-chromedriver -y;
      ln -s /usr/lib/chromium-browser/chromedriver ~/bin/chromedriver;
    fi;

install:
  - pip install --upgrade -r tests/requirements.txt

script:
  - python ./tests/test_functional.py

notifications:
  email:
    on_success: never
    on_failure: always